<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Dynamic Table | Nam Gyu Lee </title> <meta name="author" content="Nam Gyu Lee"> <meta name="description" content="Concepts and understanding of Dynamic Table"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link defer href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://namdarine.github.io/blog/2023/Dynamic-Table/"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?0afe9f0ae161375728f7bcc5eb5b4ab4"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Nam Gyu </span> Lee </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">Home </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/projects/">projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">blog</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Dynamic Table</h1> <p class="post-meta"> March 29, 2023 </p> <p class="post-tags"> <a href="/blog/2023"> <i class="fa-solid fa-calendar fa-sm"></i> 2023 </a>   ·   <a href="/blog/tag/wil"> <i class="fa-solid fa-hashtag fa-sm"></i> WIL</a>     ·   <a href="/blog/category/algorithm"> <i class="fa-solid fa-tag fa-sm"></i> Algorithm</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <blockquote> <p>A dynamic table <em>T</em> is an array with changeable length. When the array is full, we increase its length; when the array is “Too empty”, we reduce its length.</p> </blockquote> <p>The claim that hash tables give have \(O(1)\) performance for lookup and the insert is based on the assumption that the number of elements stored in the table is comparable to the number of buckets. If a hash table has many more elements than buckets, the number of elements stored in each bucket will become large. 불필요한 사용을 막는다.</p> <h4 id="attributes">Attributes</h4> <ul> <li> <em>T.table</em> : the array itself</li> <li> <em>T.size</em> : length of the array</li> <li> <em>T.num</em> : number of elements in <em>T</em> Start with \(T.size = 0\) and \(T.num = 0\)</li> </ul> <h1 id="insertion">Insertion</h1> <p>Start with \(T.table\) being empty. When inserting into an empty table, expand \(T.table\) so that \(T.size = 1\), then insert the element. Later, whenever need to insert an element into a full table, (\(T.size = T.num\)), expand \(T.table\) so that \(T.size\) is doubled. To double the size of $T.table$, claim a <u>new empty array of doubled size</u>, and move all the elements into the new array.</p> <h2 id="aggregate-analysis">Aggregate analysis</h2> <p>Let \(c_i\) be the actual cost of the \(i^{th}\) insertion. If \(T.table\) still have available slots while the \(i^{th}\) insertion, then \(c_i = 1\); if \(T.table\) is full while the \(i^{th}\) insertion and \(T.size = m\), then \(c_i = m + 1\). If there are <em>n</em> insertions, the total cost of <em>n</em> operations is below. -Note: do not consider the following. - There is only one table expansion, and \(T.size = m &gt;&gt; n\). In this case, there are not enough operations to be an amortized analysis. - Thus, assume that during all <em>n</em> insertions, \(T.size = m\) can be at most \(O(n)\). With the note above, can see that <em>n</em> operations have a total cost \(O(n^2)\), but this upper bound is not tight.</p> <h3 id="total-cost-of-n-insertions">Total cost of <em>n</em> insertions</h3> <p>There are two parts. One is i) <strong><em>n</em> simple insertions</strong> and ii) <strong>some table expansions</strong>.</p> <h4 id="i-n-simple-insertions">i) <em>n</em> simple insertions</h4> <p> It needs <em>n</em> times.</p> <h4 id="ii-some-table-expansions">ii) Some table expansions</h4> <p><strong>Assume that we have a worst-case.</strong> Start \(T.table\) being full and \(T.size = m\) So we start with a table expansion immediately and have a table expansion in the last insertion. A table expansion immediately takes \(m\) time then after another \(m\) insertions we need another table expansion that takes \(2m\) time. After another \(2m\) insertions we need another table expansion that takes \(4m\) time, and so on. In the end, after another \(2^km\) time. \(n = 1 + m + 2m + \cdots + 2^km\), and the total cost of table expansion is \(m + 2m + 4m + \cdots + 2^{k+1}m\). \(m + 2m + 4m + \cdots + 2^{k+1}m = (m - 2) + (2 + 2m + 4m+ \cdots + 2^{k+1}m)\) \(= (m -2) + 2n\) Thus, the total cost of \(n\) insertions are at most <strong>\((m - 2) + 2n + n = 3n + m -2\)</strong>. \(m = O(n)\), so the total cost is \(O(n)\).</p> <p>When \(m = 0\) (start with \(T.size = 0\)) or when $n$ is large enough (\(n &gt;&gt; m\)), have this total cost equals \(3n\). Thus, the amortized cost for insertion is \(\frac{3n}{n} = 3\).</p> <h2 id="accounting-method">Accounting Method</h2> <p>Whenever we do a simple insertion, we put two extra coins on that spot. When the array is full, \(T.num = T.size = 2m\), each of the \(m\) spots contain 2 coins, so we can use these \(2m\) coins to move all \(2m\) elements into a new table of size \(4m\) for free. Thus, the amortized cost for insertion is 3.</p> <h2 id="potential-method">Potential Method</h2> <p>Define \(\Phi(T) = 2T.num - T.size\) <br> -&gt; <strong>always non-negative</strong></p> <p><mark>At first $$T.num = T.size = 0$$. After any number of insertions, we always have $$T.table$$ is at least **half full** so $$2\cdot T.num \ge T.size$$ is always true. </mark></p> <p>Let \(T_i\) be the dynamic table after the \(i^{th}\) insertion and simplify \(\Phi(T_i)\) as \(\Phi_i\).</p> <h4 id="c_i-is-simple-insertion">\(c_i\) is simple insertion</h4> <p>\(\hat {c_i} = c_i + \Phi_i - \Phi_{i-1}\) \(= 1 + (2\cdot T_i.num - T_i.size) - (2\cdot T_{i-1}.num - T_{i-1}.size)\) \(= 1 + 2\cdot (T-i.num - T_{i-1}.num) + (T_{i-1}.size - T_i.size)\) \(= 1 + 2\cdot 1 + 0\) \(= 3\)</p> <h4 id="c_i-is-insertion-with-expansion">\(c_i\) is insertion with expansion</h4> <p>\(\hat{c_i} = c_i + \Phi_i - \Phi_{i-1}\) \(= (T_{i-1}.num + 1) + (2\cdot T_i.num - T_i.size) - (2\cdot T_{i-1}.num - T_{i-1}.size)\)</p> <p>Let \(T_{i-1}.num = m\), then \(T_{i-1}.size = m, T_i.size = 2m, T_i.num = m + 1\) : \(\hat{c_i} = (m + 1) + (2\cdot(m + 1) - 2m) - (2\cdot m - m)\) \(= (m + 1) + 2 - m\) \(= 3\)</p> <h1 id="insertion-and-deletion">Insertion and Deletion</h1> <h4 id="what-about-we-contract-the-table-so-that-tsize-is-halved-whenever-we-delete-from-a-half-full-table">What about we contract the table so that \(T.size\) is halved whenever we delete from a half-full table?</h4> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/Dynamic_Table-480.webp 480w,/assets/img/Dynamic_Table-800.webp 800w,/assets/img/Dynamic_Table-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/Dynamic_Table.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>If we contract whenever it is half-full, we can have a series of operations that half of them with \(\Theta (n)\) time, and the total cost will be \(\Theta(n^2)\), making the amortized cost of each operation \(\Theta(n)\).</p> <p>Change the contraction strategy to whenever delete from a 1/4 full table, contract the table so that \(T.size\) is halved. Then we need a new potential function, since \(T\) can be less than half-full and \(\Phi(T) = 2\cdot T.num - T.size\) can be less than 0.</p> <p>Let \(\alpha(T) = \frac{T.num}{T.size}\) represents how full \(T.table\) is. When \(T.num = T.size = 0\), define \(\alpha(T) = 1\). The following is a new potential function: \(\Phi(T) =\) \(\begin{cases} 2\cdot T.num - T.size, \; if\; \alpha(T) \ge \frac{1}{2} \\ \frac {T.size}{2} - T.num, \; if\; \alpha(T) &lt; \frac{1}{2} \end{cases}\)</p> <p>With this new potential function, let us analyze a sequence of \(n\) insertion and deletion operations.</p> <h2 id="consider-the-case-that-the-ith-operation-is-an-insertion">Consider the case that the \(i^{th}\) operation is an <u>insertion</u> </h2> <p>There are <strong>two</strong> cases.</p> <h3 id="when-alphat_i-1--frac12-and-">When \(\alpha(T_{i-1}) &lt; \frac{1}{2}\) and …</h3> <p>any insertion won’t trigger a table expansion.</p> <h4 id="if-alpha-t_i--frac12">if \(\alpha T(_i) &lt; \frac{1}{2})\)</h4> \[\begin{aligned}\hat{c_i} &amp;= c_i + \Phi_i - \Phi_{i-1}\\ &amp;= 1 + (\frac{T_i.size}{2} - T_i.num) - (\frac{T_{i-1}.size}{2} - T_{i-1}.num)\\ &amp;= 1 + (\frac{T_i.size}{2} - \frac{T_{i-1}.size}{2}) + (T_{i-1}.num - T_i.num)\\ &amp;= 1 + 0 + (-1) = 0 \end{aligned}\] <h4 id="but-alpha-t_i-ge-frac12">but \(\alpha (T_i) \ge \frac{1}{2}\)</h4> \[\begin{aligned} \hat{c_i} &amp;= c_i + \Phi_i - \Phi_{i-1}\\ &amp;= 1 + (2\cdot T_i.num - T_i.size) - (\frac{T_{i-1}.size}{2} - T_{i-1}.num)\\ &amp;= 1 + (2\cdot (T_{i-1}.num + 1) - T_{i-1}.size) - (\frac{T_{i-1}.size}{2} - T_{i-1}.num)\\ &amp;= 3\cdot T_{i-1}.num - \frac{3}{2}T_{i-1}.size) + 3\\ &amp;= 3\cdot \alpha(T_{i-1})\cdot T_{i-1}.size -\frac{3}{2}T_{i-1}.size + 3\\ &amp;&lt; \frac{3}{2}T_{i-1}.size - \frac{3}{2}T_{i-1}.size + 3\\ &amp; = 3 \end{aligned}\] <h2 id="consider-the-case-that-the-ith-operation-is-deletion">Consider the case that the $i^{th}$ operation is <u>deletion</u> </h2> <p>There are <strong>four</strong> cases.</p> <h3 id="when-alphat_i-1-ge-frac12">When \(\alpha(T_{i-1}) \ge \frac{1}{2}\)</h3> <h4 id="and-alphat_i-ge-frac12">and \(\alpha(T_i) \ge \frac{1}{2}\)</h4> <p>-&gt; Before and after deletion, the table is at least half full.</p> \[\begin{aligned} \hat{c_i} &amp;= c_i + \Phi_i - \Phi_{i-1}\\ &amp;= 1 + (2\cdot T_i.num - T_i.size) - (2\cdot T_{i-1}.num - T_{i-1}.size)\\ &amp;= 1 + 2\cdot (T_i.num - T_{i-1}.num) + (T_{i-1}.size - T_i.size)\\ &amp;= 1 + (-2) + 0 = -1 \end{aligned}\] <h4 id="but-alphat_i--frac12">but \(\alpha(T_i) &lt; \frac{1}{2}\)</h4> <p>-&gt; Before deletion, the table was at least half full and after deletion, the table is less than half.</p> \[\begin{aligned} \hat{c_i} &amp;= c_i + \Phi_i - \Phi_{i-1}\\ &amp;= 1 + (\frac{T_i.size}{2} - T_i.num) - (2\cdot T_{i-1}.num - T_{i-1}.size)\\ &amp;= 1 + (\frac{T_{i-1}.size}{2} - (T_{i-1}.num -1)) - (2\cdot T_{i-1}.num - T_{i-1}.size)\\ &amp;= -3T_{i-1}.num + \frac{3}{2}T_{i-1}.size + 2\\ &amp;= -3\cdot \alpha(T_{i-1})\cdot T_{i-1}.size + \frac{3}{2} T_{i-1}.size + 2\\ &amp;\le -\frac{3}{2}T_{i-1}.size + \frac{3}{2}T_{i-1}.size + 2\\ &amp;= 2 \end{aligned}\] <h3 id="when-alpha-t_i-1--frac12">When \(\alpha (T_{i-1}) &lt; \frac{1}{2}\)</h3> <h4 id="simple-deletion">Simple deletion</h4> \[\begin{aligned} \hat{c_i} &amp;= c_i + \Phi_i - \Phi_{i-1}\\ &amp;= 1 + (\frac{T_i.size}{2} - T_i.num) - (\frac{T_{i-1}.size}{2} - T_{i-1}.num)\\ &amp;= 1 + (\frac{T_i.size}{2} - \frac{T_{i-1}.size}{2}) + (T_{i-1}.num - T_i.num)\\ &amp;= 1 + 0 + 1 = 2 \end{aligned}\] <h4 id="deletion-with-table-contraction">deletion with <u>table contraction</u> </h4> \[\begin{aligned} \hat{c_i} &amp;= c_i + \Phi_i - \Phi_{i-1}\\ &amp;= (1 + T_i.num) + (\frac{T_i.size}{2} - T_i.num) - (\frac{T_{i-1}.size}{2} - T_{i-1}.num) \end{aligned}\] <p>Let $T_i.num = m - 1$, then $T_i.size = 2m, T_{i-1}.size = 4m, T_{i-1}.num = m$</p> \[\begin{aligned} \hat{c_i} &amp;= (1 + m -1) + (m - m + 1) - (2m - m)\\ &amp;= m + 1 = 1 \end{aligned}\] <h1 id="reference">Reference</h1> <ul> <li>CS 430, Introduction to Algorithm, prof. Wang, Xiaolang, Spring 2023, Illinois Institute of Technology</li> </ul> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/Amortized-Analysis/">Amortized Analysis</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/Growth-of-Function/">Growth of Function - Big O</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2022/Binary-Search-Tree/">Binary Search Tree (BST)</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/ML-Final_Prep/">Machine Learning Final Preparation</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2022/Queue/">Queue</a> </li> </div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Nam Gyu Lee. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?4a129fbf39254905f505c7246e641eaf"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>